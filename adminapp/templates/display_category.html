<!DOCTYPE html>
{% extends 'index.html'%}
{% block content %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>welcome to view all category</h1>
<div class="card">
  <div class="card-body">
    <h4 class="card-title">Category List</h4>
    <p class="card-description"> Manage your categories below </p>

    <div class="table-responsive">
      <table class="table table-dark">
        <thead>
          <tr>
            <th>#</th>
            <th>Category Name</th>
            <th>Description</th>
            <th>Cover Image</th>
            <th>Action</th>
          </tr>
        </thead>

        <tbody>
          {% for category in data %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ category.cat_name }}</td>
            <td>{{ category.cat_description }}</td>
            <td>
              {% if category.cat_cover_image %}
                <img src="{{ category.cat_cover_image.url }}" alt="cover" width="60" height="60" style="object-fit: cover; border-radius: 6px;">
              {% else %}
                <span class="text-muted">No Image</span>
              {% endif %}
            </td>
            <td>
              <a href="{% url 'edit_category' category_id=category.id %}" class="btn btn-sm btn-primary">Edit</a>
              <a href="{% url 'delete_category' c_id=category.id %}" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure you want to delete this category?');">Delete</a>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="5" class="text-center text-muted">No categories added yet</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

</body>
</html>
{% endblock %}